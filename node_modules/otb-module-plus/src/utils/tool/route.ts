// 路由跳转
import { regular } from "./index"
import { RSA } from "../type"
import { linkList } from "../config"
import { SStorage } from "../sessionStorage"

export const go = (code: string, params?: RSA | string | number) => {
  if (regular.link.test(code)) {
    window.open(code)
    return
  }
  if (code === "BACK") {
    window.history.go(-1)
    return
  }
  if (code.startsWith("/")) {
    window.location.hash = code
    return
  }
  if (linkList.length > 0) {
    window.location.hash = linkList.filter((item) => item.code === code)[0].url
    if (params) SStorage.new(code).setter(params)
  }
}
