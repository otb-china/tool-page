// 判断文件链接文件类型
export const fileLinkFileType = (link: string) => {
  const arr = link.split(".") as string[]
  const str = arr.at(-1) as string
  return str.toLowerCase()
}

// 计算文件大小
export const fileSize = (value: number) => {
  const b = value
  let { kb, mb, gb, tb } = { kb: 0, mb: 0, gb: 0, tb: 0 }
  if (b >= 1024) kb = b / 1024
  if (kb >= 1024) mb = kb / 1024
  if (mb >= 1024) gb = mb / 1024
  if (gb >= 1024) tb = gb / 1024

  let name: string
  if (tb) {
    name = "Tb"
  } else if (gb) {
    name = "Gb"
  } else if (mb) {
    name = "Mb"
  } else if (kb) {
    name = "Kb"
  } else {
    name = "字节"
  }
  const size = tb || gb || mb || kb || b

  return size.toFixed(2).toLocaleString() + name
}
